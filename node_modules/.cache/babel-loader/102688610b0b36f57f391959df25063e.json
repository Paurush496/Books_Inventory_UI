{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/books_inventory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/User/books_inventory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/User/books_inventory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/User/books_inventory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/User/books_inventory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"http://localhost:8080/api/book/book/\";export var BookCard=/*#__PURE__*/function(_React$Component){_inherits(BookCard,_React$Component);var _super=_createSuper(BookCard);function BookCard(props){var _this;_classCallCheck(this,BookCard);_this=_super.call(this,props);_this.addToInventory=function(){var book={bookId:_this.props.bookId,bookTitle:_this.props.bookTitle,authors:_this.props.authors,publishedDate:_this.props.publishedDate,noOfCopies:1};fetch(url,{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(book)}).then(function(response){return response.json();}).then(function(data){_this.setState(function(state){return{items:data,noOfCopies:1};});});};_this.updateInventory=function(){var book={bookId:_this.props.bookId,bookTitle:_this.props.bookTitle,authors:_this.props.authors,publishedDate:_this.props.publishedDate,noOfCopies:_this.state.noOfCopies};fetch(url,{method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(book)}).then(function(response){return response.json();}).then(function(data){_this.setState({items:data});});};_this.removeFromInventory=function(){fetch(url.concat(_this.props.bookId),{method:'DELETE',headers:{'Content-type':'application/json'}}).then(function(response){return response.json();}).then(function(data){_this.setState({items:data});});};_this.generateCardFooter=function(isAddedToInventory){if(isAddedToInventory){return/*#__PURE__*/_jsxs(\"div\",{id:\"card_footer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:_this.updateInventory,children:\" Save \"}),/*#__PURE__*/_jsx(\"button\",{onClick:_this.removeFromInventory,children:\" Remove All Copies \"})]});}else return/*#__PURE__*/_jsxs(\"div\",{id:\"card_footer\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:_this.addToInventory,children:\" Add to Inventory \"}),/*#__PURE__*/_jsx(\"p\",{children:\" No copies currently in the Inventory \"})]});};_this.getAuthorsList=function(){var authors=_this.props.authors;if(authors!=null){return/*#__PURE__*/_jsx(\"ul\",{children:authors.map(function(author){return/*#__PURE__*/_jsx(\"li\",{children:author},author);})});}};_this.state={noOfCopies:props.noOfCopies,items:[]};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));return _this;}_createClass(BookCard,[{key:\"render\",value:function render(){var book=this.props;var isAddedToInventory=book.noOfCopies!=0;var cardFooter=this.generateCardFooter(isAddedToInventory);return/*#__PURE__*/_jsxs(\"div\",{className:\"card_wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"card_body\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"book_info\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"header_container\",children:book.bookTitle}),/*#__PURE__*/_jsx(\"h4\",{children:\"Authors:\"}),this.getAuthorsList(),/*#__PURE__*/_jsx(\"h4\",{children:\"Published Date:\"}),book.publishedDate]}),isAddedToInventory&&/*#__PURE__*/_jsxs(\"div\",{id:\"inventory_status\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Inventory Copies\"}),/*#__PURE__*/_jsx(\"input\",{id:\"noOfCopies\",type:\"number\",value:this.state.noOfCopies,onChange:this.handleChange,min:\"1\"})]})]}),cardFooter]});}},{key:\"handleChange\",value:function handleChange(e){this.setState({noOfCopies:e.target.value});}}]);return BookCard;}(React.Component);","map":{"version":3,"sources":["C:/Users/User/books_inventory/src/BookCard.js"],"names":["React","url","BookCard","props","addToInventory","book","bookId","bookTitle","authors","publishedDate","noOfCopies","fetch","method","headers","body","JSON","stringify","then","response","json","data","setState","state","items","updateInventory","removeFromInventory","concat","generateCardFooter","isAddedToInventory","getAuthorsList","map","author","handleChange","bind","cardFooter","e","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nconst url = \"http://localhost:8080/api/book/book/\"\r\n\r\nexport class BookCard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            noOfCopies: props.noOfCopies,\r\n            items: []\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    render() {\r\n        var book = this.props;\r\n        var isAddedToInventory = book.noOfCopies != 0;\r\n        var cardFooter = this.generateCardFooter(isAddedToInventory);\r\n        return(\r\n            <div className=\"card_wrapper\">\r\n                <div id=\"card_body\">\r\n                    <div id=\"book_info\">\r\n                        <h3 id=\"header_container\">{book.bookTitle}</h3>\r\n                        <h4>Authors:</h4>\r\n                        {this.getAuthorsList()}\r\n                        <h4>Published Date:</h4>{book.publishedDate}\r\n                    </div>\r\n                    {isAddedToInventory && <div id=\"inventory_status\">\r\n                        <h4>Inventory Copies</h4>\r\n                        <input id=\"noOfCopies\" type=\"number\" value={this.state.noOfCopies} \r\n                            onChange={this.handleChange} min=\"1\" />\r\n                    </div>}\r\n                </div>\r\n                {cardFooter}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleChange(e) {\r\n        this.setState({ noOfCopies: e.target.value });\r\n    }\r\n\r\n    addToInventory =()=> {\r\n        let book = {\r\n            bookId: this.props.bookId,\r\n            bookTitle: this.props.bookTitle,\r\n            authors: this.props.authors,\r\n            publishedDate: this.props.publishedDate,\r\n            noOfCopies: 1\r\n        }\r\n        fetch(url, {\r\n            method: 'POST',\r\n            headers: {'Content-type':'application/json'},\r\n            body: JSON.stringify(book)\r\n        }).then((response) => response.json())\r\n          .then((data) => {\r\n            this.setState(state => ({\r\n                items: data,\r\n                noOfCopies: 1\r\n            }))\r\n        });\r\n    }\r\n\r\n    updateInventory =()=> {\r\n        let book = {\r\n            bookId: this.props.bookId,\r\n            bookTitle: this.props.bookTitle,\r\n            authors: this.props.authors,\r\n            publishedDate: this.props.publishedDate,\r\n            noOfCopies: this.state.noOfCopies\r\n        }\r\n        fetch(url, {\r\n            method: 'PUT',\r\n            headers: {'Content-type':'application/json'},\r\n            body: JSON.stringify(book)\r\n        }).then((response) => response.json())\r\n          .then((data) => {\r\n            this.setState({items: data})\r\n        });\r\n    }\r\n\r\n    removeFromInventory =() => {\r\n        fetch(url.concat(this.props.bookId), {\r\n            method: 'DELETE',\r\n            headers: {'Content-type':'application/json'}\r\n        }).then((response) => response.json())\r\n          .then((data) => {\r\n            this.setState({items: data})\r\n        });\r\n    }\r\n\r\n    generateCardFooter = (isAddedToInventory) => {\r\n        if(isAddedToInventory) {\r\n            return (\r\n                <div id=\"card_footer\">\r\n                    <button onClick={this.updateInventory}> Save </button>\r\n                    <button onClick={this.removeFromInventory}> Remove All Copies </button>   \r\n                </div>\r\n            )\r\n        } else return (\r\n            <div id=\"card_footer\">\r\n                <button onClick={this.addToInventory}> Add to Inventory </button>\r\n                <p> No copies currently in the Inventory </p>   \r\n            </div>\r\n        )\r\n    } \r\n\r\n    getAuthorsList=()=> {\r\n        var authors = this.props.authors;\r\n        if (authors != null) {\r\n            return(\r\n                <ul>{authors.map(author => {\r\n                    return <li key={author}>{author}</li>\r\n                    })}\r\n                </ul>\r\n            )\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}