(this.webpackJsonpbooks_inventory=this.webpackJsonpbooks_inventory||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var o=n(3),r=n(4),i=n(6),s=n(5),c=n(1),a=n.n(c),h=n(8),u=n.n(h),d=n(0),b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(r.a)(n,[{key:"render",value:function(){return Object(d.jsx)("button",{onClick:this.props.onSearch,children:" Inventory "})}}]),n}(a.a.Component),j=(n(15),n(2)),l=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={searchString:""},r.handleChange=r.handleChange.bind(Object(j.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(j.a)(r)),r}return Object(r.a)(n,[{key:"handleSubmit",value:function(e){this.props.onInventorySearch(e,this.state.searchString)}},{key:"handleChange",value:function(e){this.setState({searchString:e.target.value})}},{key:"render",value:function(){return Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsx)("input",{id:"book-search",onChange:this.handleChange,value:this.state.searchString}),Object(d.jsx)("button",{id:"book-search",children:"Search"})]})}}]),n}(a.a.Component),p=n(9),O="https://book-store-service.herokuapp.com/api/book/",f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).generateCardFooter=function(e){var t={bookId:r.props.bookId,bookTitle:r.props.bookTitle,authors:r.props.authors,publishedDate:r.props.publishedDate,removeFromInventory:r.props.removeFromInventory,noOfCopies:r.props.noOfCopies};return e?Object(d.jsxs)("div",{id:"card_footer",children:[Object(d.jsx)("button",{onClick:r.updateInventory.bind(Object(j.a)(r),t),children:" Save "}),Object(d.jsx)("button",{onClick:r.removeFromInventory.bind(Object(j.a)(r),t.bookId),children:"Remove All Copies "})]}):Object(d.jsxs)("div",{id:"card_footer",children:[Object(d.jsx)("button",{onClick:r.addToInventory.bind(Object(j.a)(r),t),children:" Add to Inventory "}),Object(d.jsx)("p",{children:" No copies currently in the Inventory "})]})},r.addToInventory=function(e){e.noOfCopies=1,fetch(O,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(){r.setState({noOfCopies:1})}))},r.updateInventory=function(e){e.noOfCopies=r.state.noOfCopies,fetch(O,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){r.setState({noOfCopies:e.noOfCopies})}))},r.removeFromInventory=function(e){fetch(O.concat(e),{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(e){return e.text()})).then(r.setState({noOfCopies:0}))},r.toggleInventoryStatus=function(e){r.props.removeFromInventory.bind(Object(j.a)(r),e)},r.getAuthorsList=function(){var e=r.props.authors;if(null!=e)return Object(d.jsx)("ul",{children:e.map((function(e){return Object(d.jsx)("li",{children:e},e)}))})},r.state={noOfCopies:e.noOfCopies},r.handleChange=r.handleChange.bind(Object(j.a)(r)),r}return Object(r.a)(n,[{key:"render",value:function(){var e=0!=this.state.noOfCopies,t=this.generateCardFooter(e);return Object(d.jsxs)("div",{className:"card_wrapper",children:[Object(d.jsxs)("div",{id:"card_body",children:[Object(d.jsxs)("div",{id:"book_info",children:[Object(d.jsx)("h3",{id:"header_container",children:this.props.bookTitle}),Object(d.jsx)("h4",{children:"Authors:"}),this.getAuthorsList(),Object(d.jsx)("h4",{children:"Published Date:"}),this.props.publishedDate]}),e&&Object(d.jsxs)("div",{id:"inventory_status",children:[Object(d.jsx)("h4",{children:"Inventory Copies"}),Object(d.jsx)("input",{id:"noOfCopies",type:"number",value:this.state.noOfCopies,onChange:this.handleChange,min:"1"})]})]}),t]})}},{key:"handleChange",value:function(e){this.setState({noOfCopies:e.target.value})}}]),n}(a.a.Component),v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).renderList=function(e){var t=e.dataList;if(t)return t.map((function(e){return Object(d.jsx)(f,Object(p.a)({},e),e.bookId)}))},r}return Object(r.a)(n,[{key:"render",value:function(){return this.renderList(this.props)}}]),n}(a.a.Component),y="https://book-store-service.herokuapp.com/api/",C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getAllInventoryBooks=function(){fetch(y.concat("book"),{Method:"GET"}).then((function(e){return e.json()})).then((function(e){r.setState({items:e})}))},r.handleInventorySearch=function(e,t){e.preventDefault(),0!==t.length&&fetch(y.concat(t),{Method:"GET"}).then((function(e){return e.json()})).then((function(e){r.setState({items:e})}))},r.state={items:[]},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getAllInventoryBooks()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{id:"header_container",children:[Object(d.jsx)("h1",{children:"BOOK STORE"}),Object(d.jsxs)("div",{id:"search_container",children:[Object(d.jsx)(b,{onSearch:this.getAllInventoryBooks}),Object(d.jsx)(l,{onInventorySearch:this.handleInventorySearch})]})]}),Object(d.jsx)(v,{dataList:this.state.items})]})}}]),n}(a.a.Component);u.a.render(Object(d.jsx)(C,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3f16f903.chunk.js.map